{"ast":null,"code":"import { useCallback } from 'react';\nimport { useUserId } from \"../../messages/message/hooks/use-user-id\";\nimport { useRoute } from '@react-navigation/native';\nimport { useUsername } from \"../../../hooks/use-username\";\nvar createPayload = function createPayload(message, dmId, userId, username) {\n  return JSON.stringify({\n    type: 'send_dm_message',\n    payload: {\n      message: message,\n      username: username,\n      senderId: userId,\n      dmId: dmId\n    }\n  });\n};\nexport var useHandleButton = function useHandleButton(message, setMessage) {\n  var userId = useUserId();\n  var username = useUsername();\n  var id = useRoute().params.id;\n  return useCallback(function () {\n    setMessage('');\n    globalThis.socket.send(createPayload(message, id, userId, username));\n  }, [message, userId, username, id]);\n};","map":{"version":3,"names":["useCallback","useUserId","useRoute","useUsername","createPayload","message","dmId","userId","username","JSON","stringify","type","payload","senderId","useHandleButton","setMessage","id","params","globalThis","socket","send"],"sources":["/home/nerds-pc/Projects/chat-app/Lyssa/src/direct-messages/write-message/hooks/use-handle-button.ts"],"sourcesContent":["import { useCallback } from 'react'\nimport { useUserId } from '../../messages/message/hooks/use-user-id'\nimport { useRoute } from '@react-navigation/native'\nimport { useUsername } from '../../../hooks/use-username'\n\nconst createPayload = (message: string, dmId: number, userId: number, username: string) => JSON.stringify({\n  type: 'send_dm_message',\n  payload: {\n    message,\n    username,\n    senderId: userId,\n    dmId,\n  }\n})\n\nexport const useHandleButton = (message: string, setMessage: (v: string) => null) => {\n  const userId = useUserId()\n  const username = useUsername()\n  const { id } = useRoute().params\n\n  return  useCallback(() => {\n    setMessage('')\n    globalThis.socket.send(createPayload(message, id, userId, username))\n  }, [message, userId, username, id])\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,SAAS;AAClB,SAASC,QAAQ,QAAQ,0BAA0B;AACnD,SAASC,WAAW;AAEpB,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,OAAe,EAAEC,IAAY,EAAEC,MAAc,EAAEC,QAAgB;EAAA,OAAKC,IAAI,CAACC,SAAS,CAAC;IACxGC,IAAI,EAAE,iBAAiB;IACvBC,OAAO,EAAE;MACPP,OAAO,EAAPA,OAAO;MACPG,QAAQ,EAARA,QAAQ;MACRK,QAAQ,EAAEN,MAAM;MAChBD,IAAI,EAAJA;IACF;EACF,CAAC,CAAC;AAAA;AAEF,OAAO,IAAMQ,eAAe,GAAG,SAAlBA,eAAeA,CAAIT,OAAe,EAAEU,UAA+B,EAAK;EACnF,IAAMR,MAAM,GAAGN,SAAS,EAAE;EAC1B,IAAMO,QAAQ,GAAGL,WAAW,EAAE;EAC9B,IAAQa,EAAE,GAAKd,QAAQ,EAAE,CAACe,MAAM,CAAxBD,EAAE;EAEV,OAAQhB,WAAW,CAAC,YAAM;IACxBe,UAAU,CAAC,EAAE,CAAC;IACdG,UAAU,CAACC,MAAM,CAACC,IAAI,CAAChB,aAAa,CAACC,OAAO,EAAEW,EAAE,EAAET,MAAM,EAAEC,QAAQ,CAAC,CAAC;EACtE,CAAC,EAAE,CAACH,OAAO,EAAEE,MAAM,EAAEC,QAAQ,EAAEQ,EAAE,CAAC,CAAC;AACrC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}