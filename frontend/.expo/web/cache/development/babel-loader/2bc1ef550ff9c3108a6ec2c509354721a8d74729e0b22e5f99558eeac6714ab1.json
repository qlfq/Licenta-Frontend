{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar create = function create(room) {\n  return {\n    roomId: room.roomId,\n    messages: [room]\n  };\n};\nvar createWithMultipleMessages = function createWithMultipleMessages(room) {\n  return {\n    roomId: room[0].roomId,\n    messages: _toConsumableArray(room)\n  };\n};\nexport var add = function add(data, room) {\n  var element = data.find(function (value) {\n    return value.roomId === room.roomId;\n  });\n  if (element) {\n    var updatedData = data.filter(function (value) {\n      return value.roomId !== room.roomId;\n    });\n    return [].concat(_toConsumableArray(updatedData), [_objectSpread(_objectSpread({}, element), {}, {\n      messages: [].concat(_toConsumableArray(element.messages), [room])\n    })]);\n  }\n  return [].concat(_toConsumableArray(data), [create(room)]);\n};\nexport var afterFetch = function afterFetch(data, messages) {\n  var roomId = messages[0].roomId;\n  var element = data.find(function (value) {\n    return value.roomId === roomId;\n  });\n  if (element) {\n    var updatedData = data.filter(function (value) {\n      return value.roomId !== roomId;\n    });\n    return [].concat(_toConsumableArray(updatedData), [_objectSpread(_objectSpread({}, element), {}, {\n      messages: [].concat(_toConsumableArray(element.messages), _toConsumableArray(messages))\n    })]);\n  }\n  return [].concat(_toConsumableArray(data), [createWithMultipleMessages(messages)]);\n};","map":{"version":3,"names":["create","room","roomId","messages","createWithMultipleMessages","_toConsumableArray","add","data","element","find","value","updatedData","filter","concat","_objectSpread","afterFetch"],"sources":["/home/nerds-pc/Projects/chat-app/frontend/src/room/helpers/handle-messages.ts"],"sourcesContent":["import {Message, Room} from \"../slices/messages\"\n\nconst create = (room: Message) => ({\n    roomId: room.roomId,\n    messages: [room],\n})\n\n\nconst createWithMultipleMessages = (room: Message[]) => ({\n    roomId: room[0].roomId,\n    messages: [...room],\n})\n\nexport const add = (data: Room[], room: Message) => {\n    const element = data.find(value => {\n\n        return value.roomId === room.roomId;\n    })\n\n    if(element) {\n        const updatedData = data.filter(value => value.roomId !== room.roomId)\n\n        return [...updatedData, { ...element, messages: [...element.messages, room] }]\n    }\n\n    return [ ...data, create(room) ]\n}\n\nexport const afterFetch = (data: Room[], messages: Message[]) => {\n    const roomId = messages[0].roomId\n\n    const element = data.find(value => value.roomId === roomId)\n\n    if(element) {\n        const updatedData = data.filter(value => value.roomId !== roomId)\n\n        return [...updatedData, { ...element, messages: [...element.messages, ...messages] }]\n    }\n\n    return [ ...data, createWithMultipleMessages(messages)]\n}\n"],"mappings":";;;;AAEA,IAAMA,MAAM,GAAG,SAATA,MAAMA,CAAIC,IAAa;EAAA,OAAM;IAC/BC,MAAM,EAAED,IAAI,CAACC,MAAM;IACnBC,QAAQ,EAAE,CAACF,IAAI;EACnB,CAAC;AAAA,CAAC;AAGF,IAAMG,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAIH,IAAe;EAAA,OAAM;IACrDC,MAAM,EAAED,IAAI,CAAC,CAAC,CAAC,CAACC,MAAM;IACtBC,QAAQ,EAAAE,kBAAA,CAAMJ,IAAI;EACtB,CAAC;AAAA,CAAC;AAEF,OAAO,IAAMK,GAAG,GAAG,SAANA,GAAGA,CAAIC,IAAY,EAAEN,IAAa,EAAK;EAChD,IAAMO,OAAO,GAAGD,IAAI,CAACE,IAAI,CAAC,UAAAC,KAAK,EAAI;IAE/B,OAAOA,KAAK,CAACR,MAAM,KAAKD,IAAI,CAACC,MAAM;EACvC,CAAC,CAAC;EAEF,IAAGM,OAAO,EAAE;IACR,IAAMG,WAAW,GAAGJ,IAAI,CAACK,MAAM,CAAC,UAAAF,KAAK;MAAA,OAAIA,KAAK,CAACR,MAAM,KAAKD,IAAI,CAACC,MAAM;IAAA,EAAC;IAEtE,UAAAW,MAAA,CAAAR,kBAAA,CAAWM,WAAW,IAAAG,aAAA,CAAAA,aAAA,KAAON,OAAO;MAAEL,QAAQ,KAAAU,MAAA,CAAAR,kBAAA,CAAMG,OAAO,CAACL,QAAQ,IAAEF,IAAI;IAAC;EAC/E;EAEA,UAAAY,MAAA,CAAAR,kBAAA,CAAYE,IAAI,IAAEP,MAAM,CAACC,IAAI,CAAC;AAClC,CAAC;AAED,OAAO,IAAMc,UAAU,GAAG,SAAbA,UAAUA,CAAIR,IAAY,EAAEJ,QAAmB,EAAK;EAC7D,IAAMD,MAAM,GAAGC,QAAQ,CAAC,CAAC,CAAC,CAACD,MAAM;EAEjC,IAAMM,OAAO,GAAGD,IAAI,CAACE,IAAI,CAAC,UAAAC,KAAK;IAAA,OAAIA,KAAK,CAACR,MAAM,KAAKA,MAAM;EAAA,EAAC;EAE3D,IAAGM,OAAO,EAAE;IACR,IAAMG,WAAW,GAAGJ,IAAI,CAACK,MAAM,CAAC,UAAAF,KAAK;MAAA,OAAIA,KAAK,CAACR,MAAM,KAAKA,MAAM;IAAA,EAAC;IAEjE,UAAAW,MAAA,CAAAR,kBAAA,CAAWM,WAAW,IAAAG,aAAA,CAAAA,aAAA,KAAON,OAAO;MAAEL,QAAQ,KAAAU,MAAA,CAAAR,kBAAA,CAAMG,OAAO,CAACL,QAAQ,GAAAE,kBAAA,CAAKF,QAAQ;IAAC;EACtF;EAEA,UAAAU,MAAA,CAAAR,kBAAA,CAAYE,IAAI,IAAEH,0BAA0B,CAACD,QAAQ,CAAC;AAC1D,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}