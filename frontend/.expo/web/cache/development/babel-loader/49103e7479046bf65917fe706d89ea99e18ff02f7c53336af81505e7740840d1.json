{"ast":null,"code":"import { ofType } from 'redux-observable';\nimport { of, mergeMap, catchError } from 'rxjs';\nimport { actions } from \"../slice/register\";\nimport { actions as profileActions } from \"../../slices/profile\";\nimport { repository } from \"../repository\";\nvar success = function success(payload) {\n  return of(profileActions.success(payload), actions.reset());\n};\nvar failure = function failure(error) {\n  return of(actions.failure(error));\n};\nvar perform = function perform(_ref) {\n  var payload = _ref.payload;\n  return repository.register(payload).pipe(mergeMap(success)).pipe(catchError(failure));\n};\nexport var register = function register(action$) {\n  return action$.pipe(ofType(actions.attempt)).pipe(mergeMap(perform));\n};","map":{"version":3,"names":["ofType","of","mergeMap","catchError","actions","profileActions","repository","success","payload","reset","failure","error","perform","_ref","register","pipe","action$","attempt"],"sources":["/home/nerds-pc/Projects/chat-app/Lyssa/src/register/epics/register.ts"],"sourcesContent":["import { ofType } from 'redux-observable'\nimport { of, mergeMap, catchError } from 'rxjs'\nimport { actions } from '../slice/register'\nimport { actions as profileActions } from '../../slices/profile'\nimport { IPayloadUser, IUser } from '../../interfaces/user'\nimport { repository } from '../repository'\n\nconst success = (payload: IUser) => of(profileActions.success(payload), actions.reset())\n\nconst failure = (error: any) => of(actions.failure(error))\n\nconst perform = ({ payload }: IPayloadUser) => repository.register(payload)\n  .pipe(mergeMap(success))\n  .pipe(catchError(failure))\n\nexport const register = (action$: any) => action$\n  .pipe(ofType(actions.attempt))\n  .pipe(mergeMap(perform))\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,kBAAkB;AACzC,SAASC,EAAE,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,MAAM;AAC/C,SAASC,OAAO;AAChB,SAASA,OAAO,IAAIC,cAAc;AAElC,SAASC,UAAU;AAEnB,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIC,OAAc;EAAA,OAAKP,EAAE,CAACI,cAAc,CAACE,OAAO,CAACC,OAAO,CAAC,EAAEJ,OAAO,CAACK,KAAK,EAAE,CAAC;AAAA;AAExF,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIC,KAAU;EAAA,OAAKV,EAAE,CAACG,OAAO,CAACM,OAAO,CAACC,KAAK,CAAC,CAAC;AAAA;AAE1D,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAAC,IAAA;EAAA,IAAML,OAAO,GAAAK,IAAA,CAAPL,OAAO;EAAA,OAAqBF,UAAU,CAACQ,QAAQ,CAACN,OAAO,CAAC,CACxEO,IAAI,CAACb,QAAQ,CAACK,OAAO,CAAC,CAAC,CACvBQ,IAAI,CAACZ,UAAU,CAACO,OAAO,CAAC,CAAC;AAAA;AAE5B,OAAO,IAAMI,QAAQ,GAAG,SAAXA,QAAQA,CAAIE,OAAY;EAAA,OAAKA,OAAO,CAC9CD,IAAI,CAACf,MAAM,CAACI,OAAO,CAACa,OAAO,CAAC,CAAC,CAC7BF,IAAI,CAACb,QAAQ,CAACU,OAAO,CAAC,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}